{% include 'admin-panel/header.html' %}

        <!-- Content wrapper scroll start -->
        <div class="content-wrapper-scroll">

          <!-- Content wrapper start -->
          <div class="content-wrapper">

            <!-- Row start -->
            <div class="row">
              <div class="col-sm-12 col-12">
                <div class="card">
                  <div class="card-header">
                    <div class="card-title">Edit Vendor</div>
                  </div>
                  <div class="card-body">
                    <form method="POST" enctype="multipart/form-data">
                      {% csrf_token %}
                      {% for message in messages %}
                      <div class="alert alert-primary">
                        {{ message }}
                      </div>
                      {% endfor %}
                    <div class="row">
                      <div class="col-sm-12 col-12">
                        <div class="card-border">
                          <div class="card-border-title">Edit Vendor</div>
                          <div class="card-border-body">

                            <div class="row">
                              <div class="col-sm-6 col-12">
                                <div class="mb-3">
                                  <label class="form-label">Name <span class="text-red">*</span></label>
                                  <input type="text" name="name" class="form-control" placeholder="Enter Name" value="{{ vendor.user.first_name }}">
                                </div>
                              </div>
                              <div class="col-sm-6 col-12">
                                <div class="mb-3">
                                  <label class="form-label">E-mail <span class="text-red">*</span></label>
                                  <input type="email" name="email" class="form-control" placeholder="Enter E-mail" value="{{ vendor.user.email }}">
                                </div>
                              </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                <div class="mb-3">
                                  <label class="form-label">Phone <span class="text-red">*</span></label>
                                  <input type="text" name="phone" class="form-control" placeholder="Enter Phone" value="{{ vendor.phone }}">
                                </div>
                              </div>
                              <div class="col-sm-6 col-12">
                                <div class="mb-3">
                                  <label class="form-label">GST <span class="text-red">*</span></label>
                                  <input type="text" name="gst" class="form-control" placeholder="Enter GST" value="{{ vendor.gst }}">
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-sm-6 col-12">
                                <div class="mb-3">
                                  <label class="form-label">State <span class="text-red">*</span></label>
                                  <input type="text" name="state" class="form-control" placeholder="Enter State" value="{{ vendor.state }}">
                                </div>
                              </div>
                              <div class="col-sm-6 col-12">
                                <div class="mb-3">
                                  <label class="form-label">City <span class="text-red">*</span></label>
                                  <input type="text" name="city" class="form-control" placeholder="Enter City" value="{{ vendor.city }}">
                                </div>
                              </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 col-12">
                                <div class="mb-3">
                                  <label class="form-label">Address <span class="text-red">*</span></label>
                                  <textarea class="form-control" name="address" placeholder="Enter Address">{{ vendor.address }}</textarea>
                                </div>
                              </div>
                            </div>
                            {% for c in commission %}
                            <div class="row">
                                <div class="col-sm-5 col-5">
                                <div class="mb-3">
                                  <label class="form-label">Sub category <span class="text-red">*</span></label>
                                  <select class="form-control" name="sub-category[]">
                                      <option value="">Select sub category</option>
                                      {% for s in sub_category %}
                                      <option value="{{ s.id }}" {% if s.id == c.sub_category_id %}selected{% endif %}>{{ s.s_name }}</option>
                                      {% endfor %}
                                  </select>
                                </div>
                              </div>
                              <div class="col-sm-5 col-5">
                                <div class="mb-3">
                                  <label class="form-label">Commission (In percentese) <span class="text-red">*</span></label>
                                  <input type="number" name="commission[]" class="form-control" placeholder="Enter Commission" value="{{ c.commission }}">
                                </div>
                              </div>
                              <div class="col-sm-2 col-2">
                                <div class="mb-3">
                                  
                                </div>
                              </div>
                            </div>
                            {% endfor %}
                            <div class="row">
                                <div class="col-sm-5 col-5">
                                <div class="mb-3">
                                  <label class="form-label">Sub category <span class="text-red">*</span></label>
                                  <select class="form-control" name="sub-category[]">
                                      <option value="">Select sub category</option>
                                      {% for s in sub_category %}
                                      <option value="{{ s.id }}">{{ s.s_name }}</option>
                                      {% endfor %}
                                  </select>
                                </div>
                              </div>
                              <div class="col-sm-5 col-5">
                                <div class="mb-3">
                                  <label class="form-label">Commission (In percentese) <span class="text-red">*</span></label>
                                  <input type="number" name="commission[]" class="form-control" placeholder="Enter Commission" value="">
                                </div>
                              </div>
                              <div class="col-sm-2 col-2">
                                <div class="mb-3">
                                  <input type="button" class="btn btn-outline-dark mt-4" value="+" onclick="addfield();">
                                </div>
                              </div>
                            </div>
                            <div id="form">
                                
                            </div>

                          </div>
                        </div>
                      </div>
                      <div class="col-sm-12 col-12">
                        <div class="custom-btn-group flex-end">
                          <button type="button" class="btn btn-light">Cancel</button>
                          <input type="submit" class="btn btn-success">
                        </div>
                      </div>
                    </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <!-- Row end -->
            <script>
                function addfield() {
                    const form = document.getElementById('form');
                    const div = document.createElement('div');
                    div.innerHTML = '<div class="row"><div class="col-sm-5 col-5"><div class="mb-3"><label class="form-label">Sub category <span class="text-red">*</span></label><select class="form-control" name="sub-category[]"><option value="">Select sub category</option>{% for s in sub_category %}<option value="{{ s.id }}">{{ s.s_name }}</option>{% endfor %}</select></div></div><div class="col-sm-5 col-5"><div class="mb-3"><label class="form-label">Commission (In percentese) <span class="text-red">*</span></label><input type="number" name="commission[]" class="form-control" placeholder="Enter Commission" value=""></div></div><div class="col-sm-2 col-2"></div></div>';
                    // Append the new div to the form
                    form.appendChild(div);
                }
            </script>

            {% include 'admin-panel/footer.html' %}